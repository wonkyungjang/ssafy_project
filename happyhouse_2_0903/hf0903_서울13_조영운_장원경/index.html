<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HappyHouse</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./js/scr.js"></script>
    <style>
      .list {
        text-align: left;
        margin-bottom: 5px;
      }
      .aptname {
        font-size: large;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <a class="navbar-brand" href="index.html"
        ><img
          id="logo_img"
          src="img/house.png"
          width="150"
          height="100"
          alt="The HappyHouse"
      /></>HappyHouse</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#collapsibleNavbar"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Links -->
      <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" id="btn_login" data-toggle="modal" data-target="#loginModal">
              로그인
            </a>
          </li>
          <li class="nav-item">
           <!--<a class="nav-link" href="#">회원가입</a>-->
            <a class="nav-link" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#regiModal">
              회원가입
            </a>
          </li>
        </ul>
        <ul class="navbar-nav" style="display: none">
          <li class="nav-item">
            <a class="nav-link" href="#">로그아웃</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">내정보</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">관리자</a>
          </li>
        </ul>
      </div>
    </nav>
    <div id="regiModal" class="modal fade">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">회원 가입</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <form action="">
                <div class="form-group">
                  <label>아이디 체크</label>
                  <input type="text" name="sid" id="_id" size="30px" 
                         placeholder="아이디를 입력하세요"/>
              <a href="#none" id="_btnGetid" title="회원가입">
              체크하기
              </a>
              <div id="_rgetid"></div>
                </div>
                <div class="form-group">
                  <label>아이디</label>
                  <input type="text" id="_userid" name="question" class="form-control" readonly/>
                </div>
                <div class="form-group">
                  <label>비밀번호</label>
                  <input type="password" id="_pass" name="question" class="form-control" placeholder="영문 숫자 포함 6자리 이상"/>
                </div>
                <div class="form-group">
                  <label>이름</label>
                   <input type="text" id="_name" name="start-date" class="form-control" placeholder="UserName"/>
                </div>
                <div id="poll-answer-list" class="form-group">
                  <label>주소</label>
                  <input type="text" id="_address" name="start-date" class="form-control" placeholder="address"/>
                </div>
                <div id="poll-answer-list" class="form-group">
                  <label>전화번호</label>
                  <input type="tel" id="_tel" name="start-date" class="form-control" placeholder="010-xxxx-xxxx"/>
                </div>
                <div class="form-group mt-2 text-right">
                  <button type="button" id="btn-make" class="btn-primary" onclick="location.href='login.html'">등록</button>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
  <!--로그인 모달-->
      <div id="loginModal" class="modal fade">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">로그인</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <form action="">
                <div class="form-group">
                  <label>아이디</label>
                  <input type="text" name="id" id="_useid" class="form-control"/>
                </div>
                <div class="form-group">
                  <label>비밀번호</label>
                  <input type="password" id="_pass" name="question" class="form-control" placeholder="영문 숫자 포함 6자리 이상"/>
                </div>
                <div class="form-group mt-2 text-right">
                  <a id="btn_forgotpass" data-toggle="modal" data-target="#forgotpassModal" data-dismiss="modal">비밀번호를 잊으셨나요?</a>
                  <button type="button" id="btn-make" class="btn-primary" onclick="location.href='login.html'">확인</button>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      <!--로그인 모달 끝-->
    <!--비밀번호 잊은 모달-->
    <div id="forgotpassModal" class="modal fade">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">비밀번호 찾기</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <form action="">
              <div class="form-group">
                <label>이름</label>
                <input type="text" name="name" id="_name" class="form-control"/>
              </div>
              <div class="form-group">
                <label>아이디</label>
                <input type="text" name="id" id="_useid" class="form-control"/>
              </div>
              <div class="form-group">
                <label>전화번호</label>
                <input type="tel" id="_tel" name="tel" class="form-control"/>
              </div>
              <div class="form-group mt-2 text-right">
                <button type="button" id="btn-make" class="btn-primary" onclick="location.href='login.html'">확인</button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!--비밀번호 잊은 모달 끝-->
    <div class="sticky-wrapper">
      <header class="header fixed fixed-desktop clearfix">
        <div class="container">
          <div class="row">
            <div class="col-md-auto hidden-md-down">
              <!-- header-first start -->
              <!-- ================ -->
              <div class="header-first clearfix">
                <!-- logo -->
               
              </div>
            </div>
            <div class="col-lg-10 ml-auto">
              <!-- header-second start -->
              <!-- ================ -->
              <div class="header-second clearfix">
                <!-- main-navigation start -->
                <!-- classes: -->
                <!-- "onclick": Makes the dropdowns open on click, this the default bootstrap behavior e.g. class="main-navigation onclick" -->
                <!-- "animated": Enables animations on dropdowns opening e.g. class="main-navigation animated" -->
                <!-- ================ -->
                <div class="main-navigation main-navigation--mega-menu animated">
                  <nav class="navbar navbar-expand-lg navbar-light p-0">
                    <button
                      class="navbar-toggler"
                      type="button"
                      data-toggle="collapse"
                      data-target="#navbar-collapse-1"
                      aria-controls="navbar-collapse-1"
                      aria-expanded="false"
                      aria-label="Toggle navigation"
                    >
                      <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbar-collapse-1">
                        <ul class="navbar-nav ml-xl-auto">
                          <li class="nav-item dropdown mega-menu mega-menu--wide">
                          </li>
                          <li class="nav-item dropdown mega-menu mega-menu--wide">
                            <!-- <a href="foodBestList.do?id=n" class="nav-link dropdown-toggle" id="second-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">영양 정보</a> -->
  
                          </li>
                        </ul>
                        <!-- main-menu end -->
                    </div>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>
    </div>

    <div class="container-fluid mt-1 mb-5">
      <div class="row col-lg-12">
        <!-- 왼쪽 메뉴 영역 -->
        <div class="col-lg-3">
          <div class="dark-bg section">
            <div class="container-fluid">
              <!-- filters start -->
              <div class="sorting-filters text-center mb-20 d-flex justify-content-center">
                <form class="form-inline" id="frm" action="searchRecentHouseDeal.do">
                  <!-- <input type="hidden" id="code"  name="code" value="code"/> -->
                  <div class="form-group md mr-2">
                    <select class="form-control" name="city" id="city">
                      <option value="서울특별시">서울시</option>
                      <!-- <option value="경기도">경기도</option>
                          <option value="인천광역시">인천광역시</option>
                          <option value="부산광역시">부산광역시</option>
                          <option value="대전광역시">대전광역시</option>
                          <option value="대구광역시">대구광역시</option>
                          <option value="울산광역시">울산광역시</option>
                          <option value="세종특별자치시">세종시</option>
                          <option value="광주광역시">광주광역시</option>
                          <option value="강원도">강원도</option>
                          <option value="충청북도">충청북도</option>
                          <option value="경상북도">경상북도</option>
                          <option value="경상남도">경상남도</option>
                          <option value="전라북도">전라북도</option>
                          <option value="전라남도">전라남도</option>
                          <option value="제주특별자치도">제주도</option>
                          -->
                    </select>
                  </div>
                  <div class="form-group md-1 mr-2">
                    <select class="form-control" name="dongcode" id="_gu">
                      <option value="all">시/구/군</option>
                      <option value="강남구">강남구</option>
                      <option value="종로구">종로구</option>
                      <option value="----">-------</option>
                      <option value="도봉구">도봉구</option>
                      <option value="은평구">은평구</option>
                      <option value="동대문구">동대문구</option>
                      <option value="동작구">동작구</option>
                      <option value="금천구">금천구</option>
                      <option value="구로구">구로구</option>
                      <option value="강북구">강북구</option>
                      <option value="중랑구">중랑구</option>
                      <option value="강서구">강서구</option>
                      <option value="중구">중구</option>
                      <option value="강동구">강동구</option>
                      <option value="광진구">광진구</option>
                      <option value="마포구">마포구</option>
                      <option value="서초구">서초구</option>
                      <option value="성북구">성북구</option>
                      <option value="노원구">노원구</option>
                      <option value="송파구">송파구</option>
                      <option value="서대문">서대문</option>
                      <option value="양천구">양천구</option>
                      <option value="영등포구">영등포구</option>
                      <option value="관악구">관악구</option>
                      <option value="성동구">성동구</option>
                      <option value="용산구">용산구</option>
                    </select>
                  </div>
                  <div class="form-group md-1">
                    <select class="form-control" name="dong" id="_dong">
                      <option value="all">동</option>
                    </select>
                  </div>
                </form>
              </div>
              <!-- filters end -->
            </div>
          </div>
          <div id="vote-btn-area" class="mb-2 mt-3">
            <button type="button" class="btn btn-outline-primary btn-block" id="totalApt">
              선택지역 아파트 조회
            </button>
          </div>
          <div class="border border-sucees p-3 mb-2">
            <h3 class="md-3">거래정보</h3>
            <hr />
            <div id="aptList" class="text-center font-weight-bold"></div>
          </div>
        </div>
        <!-- 중앙 컨텐츠 영역-->
        <div class="col-lg-9">
          <div class="jumbotron mt-2 text-center">
            <h1>S S A F Y</h1>
          </div>

          <!-- Google Map start -->

          <div id="map" style="width: 100%; height: 500px; margin: auto" class="mb-3"></div>
          <script
            defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3sswgiJxSyJ3_hGuu9neBB9tEgZBETP0&callback=initMap"
          ></script>
          <script>
            var multi = { lat: 37.5012743, lng: 127.039585 };
            var map;
            var markers = [];
            var infoWindow;

            function initMap() {
              map = new google.maps.Map(document.getElementById("map"), {
                center: multi,
                zoom: 15,
              });

              infoWindow = new google.maps.InfoWindow();

              const myposition = "./img/my_position.png";

              //멀티캠퍼스
              //const multimarker = new google.maps.Marker({coords: multi, content: '멀티캠퍼스', iconImage: myposition});

              var multimarker = {
                coords: multi,
                iconImage: myposition,
                content: "멀티캠퍼스(역삼)",
              };
              addMarker(multimarker);
              infoWindow.setPosition(multi);
              infoWindow.setContent("멀티캠퍼스.");
              infoWindow.open(map);

              // Geolocation
              infoWindow = new google.maps.InfoWindow();
              if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                  function (position) {
                    var pos = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude,
                    };

                    var mymarker = {
                      coords: pos,
                      iconImage: myposition,
                      content: "현재위치",
                    };
                    addMarker(mymarker);

                    infoWindow.setPosition(pos);
                    infoWindow.setContent("현재 나의 위치.");
                    infoWindow.open(map);
                    map.setCenter(pos);
                  },
                  function () {
                    handleLocationError(true, infoWindow, map.getCenter());
                  }
                );
              } else {
                handleLocationError(false, infoWindow, map.getCenter());
              }
            }

            function handleLocationError(browserHasGeolocation, infoWindow, pos) {
              infoWindow.setPosition(pos);
              infoWindow.setContent(
                browserHasGeolocation
                  ? "Error: Geolocation 서비스 실패."
                  : "Error: Geolocation을 지원하지 않는 브라우저."
              );
              infoWindow.open(map);
            }

            function addMarker(props) {
              const marker = new google.maps.Marker({
                position: new google.maps.LatLng(
                  parseFloat(props.coords.lat),
                  parseFloat(props.coords.lng)
                ),
                map: map,
              });
              map.setCenter(marker.getPosition());
              map.setZoom(17);

              if (props.iconImage) {
                marker.setIcon(props.iconImage);
              }

              if (props.content) {
                infoWindow = new google.maps.InfoWindow({
                  content: props.content,
                });
              }

              marker.addListener("click", function () {
                map.setZoom(17);
                map.setCenter(marker.getPosition());
                bounceMarker(marker);
              });
              markers.push(marker);
              setMapOnAll(map);
            }

            function bounceMarker(marker) {
              if (marker.getAnimation() !== null) {
                marker.setAnimation(null);
              } else {
                marker.setAnimation(google.maps.Animation.BOUNCE);
              }
            }

            function deleteMarkers() {
              clearMarkers();
              markers = [];
            }

            function clearMarkers() {
              setMapOnAll(null);
            }

            function setMapOnAll(map) {
              for (let i = 0; i < markers.length; i++) {
                markers[i].setMap(map);
              }
            }
          </script>
          <!-- Google Map end -->
        </div>
      </div>
    </div>
    <div class="row col-lg-12">
      <div class="col-lg-12">
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" href="#">오시는길</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">개인정보방침</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">사이트소개</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">그냥메뉴</a>
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
